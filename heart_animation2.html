<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>High Quality Heart Burst</title>
  <style>
    :root {
      /* 틱톡/인스타 느낌의 쨍한 레드-핑크 */
      --heart-color: #fe2c55; 
      --heart-hover: #ff4d6d;
      --bg-color: #121212;
      --icon-size: 100px;
    }

    body {
      margin: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--bg-color);
      overflow: hidden;
    }

    /* 체크박스 숨김 */
    #like-toggle {
      display: none;
    }

    /* 메인 컨테이너 */
    .heart-container {
      position: relative;
      width: var(--icon-size);
      height: var(--icon-size);
      cursor: pointer;
      /* 모바일 터치 하이라이트 제거 */
      -webkit-tap-highlight-color: transparent; 
    }

    /* 메인 하트 아이콘 (SVG) */
    .heart-icon {
      width: 100%;
      height: 100%;
      fill: transparent;
      stroke: #666; /* 기본 회색 */
      stroke-width: 2px;
      stroke-linecap: round;
      stroke-linejoin: round;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    /* Hover 효과 */
    .heart-container:hover .heart-icon {
      stroke: #888;
    }

    /* -----------------------------------------------------------
       CHECKED 상태 (좋아요 눌림)
       ----------------------------------------------------------- */
    
    /* 1. 메인 하트 색상 변경 및 팝 애니메이션 */
    #like-toggle:checked + .heart-container .heart-icon {
      fill: var(--heart-color);
      stroke: var(--heart-color);
      animation: heart-bounce 0.4s cubic-bezier(0.175, 0.885, 0.32, 2.5) forwards;
    }

    @keyframes heart-bounce {
      0% { transform: scale(0.8); }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }

    /* 2. 링 버스트 효과 (클릭 순간 퍼지는 원) */
    .ring {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 2px solid var(--heart-color);
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      pointer-events: none;
      box-sizing: border-box;
    }

    #like-toggle:checked + .heart-container .ring {
      animation: ring-explosion 0.5s ease-out;
    }

    @keyframes ring-explosion {
      0% { transform: translate(-50%, -50%) scale(0.6); opacity: 1; border-width: 10px; }
      50% { opacity: 0.8; border-width: 2px; }
      100% { transform: translate(-50%, -50%) scale(1.6); opacity: 0; border-width: 0; }
    }

    /* -----------------------------------------------------------
       FLOATING HEARTS (피어오르는 하트들)
       ----------------------------------------------------------- */
    
    .bubbles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .bubble {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 16px; 
      height: 16px;
      background: var(--heart-color);
      margin-top: -8px; /* 중심점 보정 */
      margin-left: -8px;
      border-radius: 50%; /* 단순 원형 파티클 (하트 모양 원하면 clip-path 사용 가능) */
      opacity: 0;
      
      /* 하트 모양을 만들기 위한 clip-path (SVG path 대신 CSS로 하트 그림) */
      clip-path: path("M8 2.7 C8 2.7 8 1 5.5 1 C3 1 1 3 1 5.5 C1 9 8 13 8 13 C8 13 15 9 15 5.5 C15 3 13 1 10.5 1 C8 1 8 2.7 8 2.7 Z");
      /* clip-path가 지원되지 않는 브라우저를 대비해 배경색은 유지 */
      transform: scale(0);
    }

    /* 좋아요가 체크되었을 때만 파티클 애니메이션 실행 */
    #like-toggle:checked + .heart-container .bubble {
      /* float-up 애니메이션: 위로 올라감 */
      /* sway 애니메이션: 좌우로 흔들림 (옵션) */
      animation: float-up var(--duration) cubic-bezier(0.25, 1, 0.5, 1) forwards;
      animation-delay: var(--delay);
    }

    @keyframes float-up {
      0% {
        transform: translate(0, 0) scale(0);
        opacity: 0;
      }
      20% {
        transform: translate(var(--x-end), -40px) scale(1.2);
        opacity: 1;
      }
      100% {
        /* 높이 솟구치며 사라짐 */
        transform: translate(var(--x-end), -150px) scale(0.5);
        opacity: 0;
      }
    }

    /* 각 버블의 개별 설정 (위치, 시간, 지연) */
    .b1 { --x-end: -20px; --duration: 0.8s; --delay: 0.05s; }
    .b2 { --x-end: 20px;  --duration: 0.9s; --delay: 0.1s; background: #ff748c !important; }
    .b3 { --x-end: -10px; --duration: 1.1s; --delay: 0.0s; width: 10px !important; height: 10px !important; }
    .b4 { --x-end: 35px;  --duration: 0.7s; --delay: 0.15s; width: 12px !important; height: 12px !important; background: #ff9eb0 !important; }
    .b5 { --x-end: -35px; --duration: 1.0s; --delay: 0.2s; }
    
    /* 체크 해제 시 애니메이션 초기화 (별도 애니메이션 없이 즉시 사라짐) */
    #like-toggle:not(:checked) + .heart-container .bubble {
      animation: none;
      opacity: 0;
    }

  </style>
</head>
<body>

  <!-- Input은 UI 외부에 있지만 Label로 연결됨 -->
  <input type="checkbox" id="like-toggle" />
  
  <label class="heart-container" for="like-toggle">
    <!-- 메인 하트 -->
    <svg class="heart-icon" viewBox="0 0 24 24">
      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
    </svg>

    <!-- 펑 터지는 링 -->
    <div class="ring"></div>

    <!-- 피어오르는 작은 하트들 -->
    <div class="bubbles">
      <div class="bubble b1"></div>
      <div class="bubble b2"></div>
      <div class="bubble b3"></div>
      <div class="bubble b4"></div>
      <div class="bubble b5"></div>
    </div>
  </label>

</body>
</html>